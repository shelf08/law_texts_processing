# Обработка и систематизация юридических текстов с помощью онтологий

Веб-приложение для автоматической навигации по правовым актам на основе онтологического подхода.

## Описание

Система предназначена для:
- Автоматической обработки правовых документов (XML, HTML, PDF, TXT)
- Построения онтологии правовых актов с использованием OWL/RDF
- Извлечения сущностей и связей из юридических текстов
- Навигации по правовым актам через веб-интерфейс
- Поиска статей по терминам и ключевым словам
- Визуализации связей между правовыми актами

## Структура проекта

```
law_texts_processing/
├── ontology/              # Онтология правовых актов (OWL/RDF)
│   └── legal_ontology.owl
├── src/
│   ├── nlp/              # Модули NLP обработки
│   │   └── text_analyzer.py
│   ├── ontology/         # Работа с онтологией
│   │   ├── ontology_manager.py
│   │   └── graphdb_connector.py
│   ├── text_processing/  # Обработка текстов документов
│   │   └── document_parser.py
│   ├── integration/      # Интеграция модулей
│   │   └── document_processor.py
│   └── web/              # Веб-интерфейс
│       ├── app.py
│       └── templates/
├── data/                 # Исходные правовые акты
│   ├── raw/              # Исходные документы
│   └── processed/        # Обработанные документы
├── config/               # Конфигурационные файлы
│   └── config.yaml
├── examples/             # Примеры использования
│   ├── process_example.py
│   └── sparql_queries.md
├── docs/                 # Документация
│   ├── ARCHITECTURE.md
│   ├── USAGE.md
│   └── DEPLOYMENT.md
└── requirements.txt

```

## Быстрый старт

### 1. Установка зависимостей

**Важно:** Если у вас Python 3.13 на Windows и возникают ошибки компиляции numpy, см. [INSTALL.md](INSTALL.md)

**Быстрая установка (Windows):**
```cmd
install.bat
```

**Быстрая установка (Linux/Mac):**
```bash
chmod +x install.sh && ./install.sh
```

**Ручная установка:**
```cmd
# Обновите pip, setuptools, wheel
py -m pip install --upgrade pip setuptools wheel

# Установите numpy с предкомпилированными пакетами (важно!)
py -m pip install numpy --only-binary :all:

# Установите остальные зависимости
py -m pip install -r requirements.txt

# Модель spaCy для русского языка
py -m spacy download ru_core_news_sm
```

**Примечание:** На Windows используйте `py` вместо `python`

### 3. Настройка (опционально)

Скопируйте `.env.example` в `.env` и настройте параметры GraphDB (если используется):

```bash
cp .env.example .env
```

### 4. Запуск приложения

```cmd
py run.py
```

Или напрямую:
```cmd
py src/web/app.py
```

Веб-интерфейс будет доступен по адресу: http://localhost:5000

## Основные возможности

### Обработка документов
- Парсинг XML, HTML, PDF, TXT форматов
- Извлечение структурных элементов (главы, статьи)
- Автоматическое извлечение сущностей (законы, статьи, даты, термины)
- Извлечение ссылок между правовыми актами

### NLP анализ
- Токенизация и лемматизация текста
- Извлечение именованных сущностей
- Поиск ключевых терминов
- Определение связей между документами

### Онтология
- Классы: Закон, Статья, Глава, Термин, Ссылка, Правовой институт
- Иерархические связи (закон → глава → статья)
- Ссылочные связи (статья → статья, статья → закон)
- Семантические связи (синонимы, правовые категории)

### Веб-интерфейс
- Поиск по терминам и ключевым словам
- Просмотр статей и их связей
- Загрузка и обработка новых документов
- Визуализация графа связей

## API Endpoints

- `GET /api/search?q=термин` - Поиск по терминам
- `GET /api/article/<id>` - Получить статью
- `GET /api/article/<id>/references` - Получить ссылки статьи
- `GET /api/laws` - Список всех законов
- `POST /api/upload` - Загрузить документ
- `GET /api/graph` - Граф связей для визуализации

## Работа с онтологией

### В Protégé
1. Откройте `ontology/legal_ontology.owl` в Protégé
2. Изучите классы и свойства
3. Добавьте свои данные или импортируйте из приложения

### SPARQL запросы
Примеры SPARQL-запросов находятся в `examples/sparql_queries.md`

### GraphDB
Для работы с большими объемами данных рекомендуется использовать GraphDB:
1. Установите GraphDB
2. Создайте репозиторий `law_ontology`
3. Импортируйте онтологию через веб-интерфейс GraphDB

## Документация

- [Архитектура системы](docs/ARCHITECTURE.md)
- [Руководство по использованию](docs/USAGE.md)
- [Инструкция по развертыванию](docs/DEPLOYMENT.md)
- [Примеры SPARQL-запросов](examples/sparql_queries.md)

## Технологии

- **Python 3.8+** - основной язык программирования
- **rdflib** - работа с RDF/OWL
- **Flask** - веб-фреймворк
- **spaCy** - NLP обработка
- **pymorphy2** - морфологический анализ русского языка
- **Protégé** - разработка онтологии
- **GraphDB** - хранение и запросы к онтологии (опционально)

## Лицензия

Проект создан в рамках ВКР (выпускной квалификационной работы).

## Автор

Создано для дипломной работы по теме: "Обработка и систематизация юридических текстов с помощью онтологий для автоматической навигации по правовым актам"

